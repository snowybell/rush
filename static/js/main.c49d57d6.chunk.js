(this.webpackJsonprush=this.webpackJsonprush||[]).push([[0],{65:function(t,n,e){},93:function(t,n,e){"use strict";e.r(n);var r=e(1),c=e(0),a=e(28),o=e.n(a),u=(e(65),e(34)),i=e(6),s=e(30);var b=function(){return Object(r.jsx)(s.a,{children:Object(r.jsxs)("strong",{children:["Rush, ",Object(r.jsx)("br",{}),"work-in-progress ",Object(r.jsx)("br",{}),"Image ",Object(r.jsx)("br",{}),"Annotations"]})})},j=e(12),h=e.n(j),l=e(21),f=e(25),p=e(49),d=Object(r.jsx)(p.a,{icon:["fab","google"]}),O=e(99),g=e(98),x=e(35),v=e.n(x);function w(){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v.a.get("http://localhost:3001/v1/oauth/google").then((function(t){return t.data})).catch((function(){throw"Error when retrieving OAuth login URL"})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=Object(f.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",v.a.post("http://localhost:3001/v1/oauth/google/callback",{code:n}).then((function(t){return t.data})).catch((function(){throw"Error when exchange JWT"})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var y=e(29),E=e(24);function T(){var t=Object(y.a)(["\n  margin: auto;\n  width: fit-content;\n"]);return T=function(){return t},t}var L=E.a.div(T());function H(){return(H=Object(f.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",w().then((function(t){window.location=t.data.redirect_url})).catch((function(t){throw g.b.negative(t,{autoHideDuration:2e3}),t})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var R,S,C=function(){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),e=n[0],a=n[1];return Object(r.jsx)(L,{style:{paddingTop:"30vh"},children:Object(r.jsx)(O.a,{startEnhancer:d,disabled:e,isLoading:e,onClick:function(){a(!0),function(){return H.apply(this,arguments)}().catch((function(){return a(!1)}))},children:"Login with Google"})})},F=e(55),P=e(54),A=Object(F.a)((R=function(t){return{token:null,setToken:function(n){return t({token:n})}}},S={name:"persist:user",storage:localStorage},Object(P.persist)(R,S))),D=e(100),I=e(3);function J(){var t=Object(y.a)(["\n  border-top-color: ",";\n"]);return J=function(){return t},t}var B=Object(E.a)(D.a)(J(),(function(t){return t.color}));B.defaultProps={color:I.a.gray800};var U=B;var G=function(){var t=Object(i.g)(),n=A((function(t){return t.setToken})),e=Object(c.useState)(!0),a=Object(l.a)(e,2),o=a[0],u=a[1],s=new URLSearchParams(t.search),b=s.has("code")&&s.get("code");return b?(Object(c.useEffect)((function(){(function(t){return m.apply(this,arguments)})(b).then((function(t){u(!1),n(t.data.token)})).catch((function(t){g.b.negative(t,{autoHideDuration:2e3})}))}),[]),o?Object(r.jsx)(L,{style:{paddingTop:"30vh"},children:Object(r.jsx)(U,{})}):Object(r.jsx)(i.a,{to:"/"})):Object(r.jsx)(i.a,{to:"/login"})};var W=function(){return Object(r.jsx)(s.a,{children:Object(r.jsxs)("strong",{children:["Hey, ",Object(r.jsx)("br",{}),"what are you ",Object(r.jsx)("br",{}),"doing ",Object(r.jsx)("br",{}),"HERE?"]})})};var _=function(){return Object(r.jsx)(u.a,{children:Object(r.jsxs)(i.d,{children:[Object(r.jsx)(i.b,{exact:!0,path:"/",component:b}),Object(r.jsx)(i.b,{exact:!0,path:"/login",component:C}),Object(r.jsx)(i.b,{exact:!0,path:"/login/callback",component:G}),Object(r.jsx)(i.b,{component:W})]})})},q=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,101)).then((function(n){var e=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,o=n.getTTFB;e(t),r(t),c(t),a(t),o(t)}))},z=e(18),K=e(56);z.b.add(K.a);var M=e(16),N=e(58),Q=e(4),V=new N.a;o.a.render(Object(r.jsx)(M.a,{value:V,debug:undefined,debugAfterHydration:!0,children:Object(r.jsx)(g.a,{placement:Q.b.topRight,children:Object(r.jsx)(_,{})})}),document.getElementById("root")),q()}},[[93,1,2]]]);
//# sourceMappingURL=main.c49d57d6.chunk.js.map